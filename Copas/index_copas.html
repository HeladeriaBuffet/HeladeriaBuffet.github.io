<!DOCTYPE html>
<html>
<head>
<title>Heladeria Buffet</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="icon" type="image/png" href="img/diamante.png">
<script src="https://cdn.tailwindcss.com"></script>
  
</head>
<body>

<!-- Navbar (sit on top) -->

  <div class="header-container">
    <img src="img/LOGO-removebg-preview (1).png" alt="Logo Heladería" class="logo" >
  </div>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <!-- Barra de promociones -->
  <div class="promo-bar">
    <span id="promoText">BIENVENIDOS A HELADERIA BUFFET</span>
  </div>
</div>

  

<!-- Estilos para la barra de promociones -->
<style>
    .w3-top {
  position: fixed;
  top: -8;
  width: 100%;
  transition: top 0.3s ease-in-out;
  z-index: 1000;
}

.promo-bar {
  background-color: #ff4081;
  color: white;
  text-align: center;
  padding: 10px;
  font-weight: bold;
  font-size: 14px;
}



    /* Contenedor logo + título */
    .header-container {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    gap: 10px;
    flex-wrap: wrap;
    }

  /* Logo */
.logo {
  display: block;
  margin: 30px auto 15px auto; /* top right bottom left */
  width: 250px;
  border-radius: 20px;
}

/* Animación moderna */
@keyframes movimientoModerno {
    0% {
        transform: translateY(0) rotate(0deg) scale(1);
    }
    25% {
        transform: translateY(-10px) rotate(10deg) scale(1.05);
    }
    50% {
        transform: translateY(0) rotate(0deg) scale(1);
    }
    75% {
        transform: translateY(10px) rotate(-10deg) scale(1.05);
    }
    100% {
        transform: translateY(0) rotate(0deg) scale(1);
    }
}



    /* Título */
    .titulo {
    margin: 0;
    font-size: 20px;
    font-weight: bold;
    text-align: center;
    }

    /* Barra rosa de promoción */
    .promo-bar {
    background-color:#4AC0B0;
    text-align: center;
    font-weight: bold;
    padding: 8px;
    }



      /* Estilo general de la barra */
    .navbar {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        background-color: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

    /* Sección izquierda: título */
    .navbar-left {
    flex: 1 1 100%;
    text-align: center;
    font-size: 18px;
    }

    .subtitle {
    font-weight: normal;
    font-size: 14px;
    }

    /* Sección derecha: enlaces */
    .navbar-right {
    flex: 1 1 100%;
    text-align: center;
    margin-top: 8px;
    }

    .navbar-right a {
    text-decoration: none;
    font-size: 14px;
    color: #000;
    }

    /* Estilo en pantallas grandes */
    @media (min-width: 600px) {
    .navbar-left {
        flex: 1;
        text-align: left;
    }
    .navbar-right {
        flex: none;
        margin-top: 0;
        text-align: right;
    }
    

      
  }
</style>

<!-- Script para cambiar mensajes -->
<script>
  const mensajes = [
      "DOMICILIOS EN PEREIRA Y DOSQUEBRADAS",
      "TRANSFERENCIA BANCARIA DISPONIBLE",
     
  ];
  let index = 0;

  function cambiarMensaje() {
      document.getElementById("promoText").innerText = mensajes[index];
      index = (index + 1) % mensajes.length;
  }

  setInterval(cambiarMensaje, 3000);
</script>

<!-- Header -->
<header class="w3-display-container w3-content w3-wide" style="max-width:1500px;" id="home">
  <div class="w3-display-middle w3-margin-top w3-center">
  </div>
</header>


<style>
  .carouselSlides {
    display: block;
    margin: auto;
    width: 100%;
    max-width: 1000px; /* Ajusta según el diseño deseado */
    height: 200px; /* Define una altura fija más baja */
    object-fit: cover; /* Recorta la imagen para llenar el espacio */
    border-radius: 10px; /* Opcional: esquinas redondeadas */
}

  .marquee {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 50px; /* Ajusta la altura según necesites */
  }

  .whatsapp-float {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 9999; /* Siempre por encima de todo */
        background-color: #25D366;
        color: white;
        border-radius: 50px;
        padding: 12px;
        text-decoration: none;
        font-weight: bold;
        display: flex;
        align-items: center;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
        transition: 0.3s;
    }

    .whatsapp-float:hover {
        background-color: #1ebe5d;
    }

    .whatsapp-float img {
        width: 45px;
        height: 45px;
        margin-right: 10px;
    }

    .chat-label {
        font-size: 16px;
        color: white;
    }

    /* Ajuste para dispositivos móviles */
    @media (max-width: 600px) {
        .whatsapp-float {
            bottom: 15px;
            right: 15px;
            padding: 10px;
        }

        .whatsapp-float img {
            width: 40px;
            height: 40px;
        }

        .chat-label {
            font-size: 14px;
        }
    }

/* ANIMACIÓN */
@keyframes rotate360 {
    from {
      transform: rotateY(0deg);
    }
    to {
      transform: rotateY(360deg);
    }
  }

</style>


<script>
  let slideIndex = 0;
  showSlides();

  function showSlides() {
    let slides = document.getElementsByClassName("carouselSlides");
    for (let i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }
    slideIndex++;
    if (slideIndex > slides.length) { slideIndex = 1 }
    slides[slideIndex - 1].style.display = "block";
    setTimeout(showSlides, 3000); // Cambia la imagen cada 3 segundos
  }

  function plusDivs(n) {
    slideIndex += n - 1;
    showSlides();
  }
</script>


 
  <style>

        

    .product-image-container {
    width: 100%;
    height: 220px; /* Ajusta según necesites */
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background-color: white; /* Para evitar espacios vacíos oscuros */
}

.product-image-container img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain; /* Evita que las imágenes se corten */
}

  </style>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    position: relative;
    z-index: 0;
  }

  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    background-image: url('img/fondo2.png');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    z-index: -1;
  }


    /* Producto 1 */
.max-w-xs {
  border: 5px solid #acfff475; /* Borde oscuro (cambia el color según tus necesidades) */
}



.neon-glow {
  animation: neon-pulse 2s ease-in-out infinite;
}


    </style>


<nav class="flex justify-center mb-10">
  <div class="bg-pink-700 text-white text-xl md:text-2xl font-semibold px-6 py-3 rounded-3xl shadow-lg border border-pink-800 relative">
    <h2 class="neon-glow relative z-10">Copas Especiales</h2>
    <div class="absolute inset-0 rounded-3xl border-4 border-white opacity-10 pointer-events-none"></div>
  </div>
</nav>

<nav class="flex justify-center mb-10">
  <div class="bg-pink-700 text-white text-sm md:text-base font-semibold px-4 py-2 rounded-3xl shadow-lg border border-pink-800 relative">
   
  <!-- Botón para regresar a la Página 1 -->
  <button onclick="window.location.href = '../index.html';" 
          class="neon-glow relative z-10">
    ↩️ Regresar al menu inicial
        <div class="absolute inset-0 rounded-3xl border-4 border-white opacity-10 pointer-events-none"></div>
  </button>
  </div>
</nav>

    <br>
    <br>
    <br>


    <!-- PRODUCTO 1 -->
<!-- Tarjeta de Producto Moderna con Fondo de Imagen -->
<div class="relative backdrop-blur-md rounded-3xl shadow-lg hover:shadow-xl transition duration-300 w-[350px] mx-auto pt-20 pb-6 px-4"
style="background-image: url('img/fondo2.png'); background-size: cover; background-position: center;"
>
  
  <!-- Imagen flotante -->
  <div class="absolute -top-24 left-1/2 transform -translate-x-1/2">
    <img src="img/copas_especiales/copa_hersgey.png"
         alt="Copa Hershey's"
         class="w-48 h-48 object-contain">
  </div>

  <!-- Contenido -->
  <div class="text-center mt-6 bg-white/90 rounded-xl p-2 shadow">
    <span class="inline-block bg-pink-500 text-white text-xs font-semibold px-3 py-1 rounded-full mb-2 shadow">
      Copa Hershey's
    </span>
    <p class="text-teal-600 font-bold text-lg">$19.900</p>

    <!-- Botón -->
    <button 
      onclick="document.getElementById('modalDetalles1').style.display='block'" 
      class="mt-4 w-full bg-teal-500 hover:bg-teal-600 text-white text-sm font-semibold py-2 rounded-full transition">
      <i class="fa fa-info-circle mr-1"></i> Más Detalles
    </button>
  </div>
</div>

<!-- MINI-MODAL de cantidad -->
<div id="cantidadModal" class="fixed inset-0 z-[100] bg-black/60 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg text-center">
    <h3 class="text-lg font-semibold mb-4">¿Cuántas copas deseas?</h3>
    
    <!-- Campo de cantidad -->
    <input id="cantidadSeleccionada" type="number" min="1" value="1"
           class="w-20 text-center border rounded-lg py-1 px-2 mb-4 focus:outline-pink-400">
    
    <!-- Nuevo campo de observaciones -->
    <label for="observaciones" class="block text-sm font-medium text-gray-700 mb-1">
      Ingrese sus observaciones adicionales
    </label>
    <textarea id="observaciones" rows="3" placeholder="Ej. Sin fresa, agregar más chocolate..."
              class="w-full border rounded-lg p-2 text-sm focus:outline-pink-400 mb-4"></textarea>

    <!-- Botones -->
    <div class="flex justify-center gap-3">
      <button onclick="confirmarCantidad()" class="bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-lg">
        Agregar
      </button>
      <button onclick="cerrarCantidadModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg">
        Cancelar
      </button>
    </div>
  </div>
</div>

<!-- Modal de Producto -->
<div id="modalDetalles1" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 hidden">
  <div class="bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden p-6">
    <!-- Header -->
    <div class="bg-pink-400 text-white px-6 py-4 flex justify-between items-center rounded-t-3xl">
      <h3 class="text-lg font-semibold">🍦 Copa Hershey's</h3>
      <button onclick="toggleModal(false, 'modalDetalles1')" class="text-white text-2xl font-bold">&times;</button>
    </div>

    <!-- Body -->
    <div class="p-6 text-sm text-gray-700">
      <img src="img/copas_especiales/copa_hersgey.png" class="w-48 h-48 mx-auto object-contain rounded-xl shadow mb-4">
      <p><strong>Ingredientes:</strong> 1 sabor de helado, salsa de chocolate, crema de la casa, fresa, chocolatina Hershey's y abanico.</p>
      <p><strong>Precio unitario:</strong> <span class="text-pink-600 font-semibold">💲19.900</span></p>
      
      <!-- Carrito info -->
      <div class="mt-2 text-gray-600 text-sm" id="carritoResumen1">
        Pedido: 0 Copas agregadas.
      </div>
    </div>

    <!-- Footer -->
    <div class="px-6 pb-6 flex flex-col gap-3">
      <!-- Botón para agregar a la orden -->
  <button onclick="abrirCantidadModal('Copa Hershey\'s', 19900, 'cantidadCopa', 'carritoResumen1')"
          class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 rounded-lg">
    ➕ Agregar a mi orden
  </button>
      <button onclick="toggleModal(false, 'modalDetalles1')" 
              class="bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg">
        Continuar con mi orden
      </button>
    </div>
  </div>
</div>


  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  
    <!-- PRODUCTO 2 -->

<!-- Tarjeta de Producto Moderna con Fondo de Imagen -->
<div class="relative backdrop-blur-md rounded-3xl shadow-lg hover:shadow-xl transition duration-300 w-[350px] mx-auto pt-20 pb-6 px-4"
     style="background-image: url('img/fondo2.png'); background-size: cover; background-position: center;">
  
  <!-- Imagen flotante -->
  <div class="absolute -top-24 left-1/2 transform -translate-x-1/2">
    <img src="img/copas_especiales/copa_exotica.png"
         alt="Copa Hershey's"
         class="w-48 h-48 object-contain">
  </div>

  <!-- Contenido -->
  <div class="text-center mt-6 bg-white/90 rounded-xl p-2 shadow">
    <span class="inline-block bg-pink-500 text-white text-xs font-semibold px-3 py-1 rounded-full mb-2 shadow">
      Copa Exótica
    </span>
    <p class="text-teal-600 font-bold text-lg">$12.900</p>

    <!-- Botón -->
    <button 
      onclick="document.getElementById('modalDetalles2').style.display='block'" 
      class="mt-4 w-full bg-teal-500 hover:bg-teal-600 text-white text-sm font-semibold py-2 rounded-full transition">
      <i class="fa fa-info-circle mr-1"></i> Más Detalles
    </button>
  </div>
</div>

  <!-- MINI-MODAL de cantidad -->
<div id="cantidadModal" class="fixed inset-0 z-[100] bg-black/60 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg text-center">
    <h3 class="text-lg font-semibold mb-4">¿Cuántas copas deseas?</h3>
    <input id="cantidadSeleccionada" type="number" min="1" value="1"
           class="w-20 text-center border rounded-lg py-1 px-2 mb-4 focus:outline-pink-400">
    <div class="flex justify-center gap-3">
      <button onclick="confirmarCantidad()" class="bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-lg">
        Agregar
      </button>
      <button onclick="cerrarCantidadModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg">
        Cancelar
      </button>
    </div>
  </div>
</div>

<!-- Modal de Producto -->
<div id="modalDetalles2" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 hidden">
  <div class="bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden p-6">
    <!-- Header -->
    <div class="bg-pink-400 text-white px-6 py-4 flex justify-between items-center rounded-t-3xl">
      <h3 class="text-lg font-semibold">🍦 Copa Exótica</h3>
      <button onclick="toggleModal2(false, 'modalDetalles2')" class="text-white text-2xl font-bold">&times;</button>
    </div>

    <!-- Body -->
    <div class="p-6 text-sm text-gray-700">
      <img src="img/copas_especiales/copa_exotica.png" class="w-48 h-48 mx-auto object-contain rounded-xl shadow mb-4">
      <p><strong>Ingredientes:</strong> 1 sabor de helado, fresa manzana, durazno, crema de la casa y mani</p>
      <p><strong>Precio unitario:</strong> <span class="text-pink-600 font-semibold">💲12.900</span></p>
      
      <!-- Carrito info -->
      <div class="mt-2 text-gray-600 text-sm" id="carritoResumen1">
        Pedido: 0 Copas agregadas.
      </div>
    </div>

    <!-- Footer -->
    <div class="px-6 pb-6 flex flex-col gap-3">
      <button onclick="abrirCantidadModal('Copa Exotica', 12900, 'carritoResumen1')" 
              class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 rounded-lg">
        ➕ Agregar a mi orden
      </button>

      <button onclick="toggleModal2(false, 'modalDetalles2')" 
              class="bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg">
        Continuar con mi orden
      </button>
    </div>
  </div>
</div>


<br>
<br>
<br>
<br>
<br>
<br>

  <!-- PRODUCTO 3 -->

<!-- Tarjeta de Producto Moderna con Fondo de Imagen -->
<div class="relative backdrop-blur-md rounded-3xl shadow-lg hover:shadow-xl transition duration-300 w-[350px] mx-auto pt-20 pb-6 px-4"
   style="background-image: url('img/fondo2.png'); background-size: cover; background-position: center;">

<!-- Imagen flotante -->
<div class="absolute -top-24 left-1/2 transform -translate-x-1/2">
  <img src="img/copas_especiales/copa_queso.png"
       alt="Copa Hershey's"
       class="w-48 h-48 object-contain">
</div>

<!-- Contenido -->
<div class="text-center mt-6 bg-white/90 rounded-xl p-2 shadow">
  <span class="inline-block bg-pink-500 text-white text-xs font-semibold px-3 py-1 rounded-full mb-2 shadow">
    Copa Queso
  </span>
  <p class="text-teal-600 font-bold text-lg">$13.000</p>

  <!-- Botón -->
  <button 
    onclick="document.getElementById('modalDetalles3').style.display='block'" 
    class="mt-4 w-full bg-teal-500 hover:bg-teal-600 text-white text-sm font-semibold py-2 rounded-full transition">
    <i class="fa fa-info-circle mr-1"></i> Más Detalles
  </button>
</div>
</div>

<!-- MINI-MODAL de cantidad -->
<div id="cantidadModal" class="fixed inset-0 z-[100] bg-black/60 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-sm sm:max-w-md lg:max-w-lg text-center overflow-visible">
    <h3 class="text-lg font-semibold mb-4">¿Cuántas copas deseas?</h3>

    <!-- Campo de cantidad -->
    <input id="cantidadSeleccionada" type="number" min="1" value="1"
           class="w-20 text-center border rounded-lg py-1 px-2 mb-4 focus:outline-pink-400">

    <!-- Campo de observaciones -->
    <div class="mb-4 text-left">
      <label for="observacion" class="block text-sm font-medium text-gray-700 mb-1">Observaciones</label>
      <textarea id="observacion" rows="3" class="w-full border rounded-lg py-2 px-3 focus:outline-pink-400" placeholder="Escribe tus observaciones aquí..."></textarea>
    </div>

    <!-- Botones -->
    <div class="flex justify-center gap-3">
      <button onclick="confirmarCantidad()" class="bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-lg">
        Agregar
      </button>
      <button onclick="cerrarCantidadModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg">
        Cancelar
      </button>
    </div>
  </div>
</div>



<!-- Modal de Producto -->
<div id="modalDetalles3" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 hidden">
<div class="bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden p-6">
  <!-- Header -->
  <div class="bg-pink-400 text-white px-6 py-4 flex justify-between items-center rounded-t-3xl">
    <h3 class="text-lg font-semibold">🍦 Copa Queso</h3>
    <button onclick="toggleModal3(false, 'modalDetalles3')" class="text-white text-2xl font-bold">&times;</button>
  </div>

  <!-- Body -->
  <div class="p-6 text-sm text-gray-700">
    <img src="img/copas_especiales/copa_queso.png" class="w-48 h-48 mx-auto object-contain rounded-xl shadow mb-4">
    <p><strong>Ingredientes:</strong> Base de queso, 3 porciones de helado, crema chantilly</p>
    <p><strong>Precio unitario:</strong> <span class="text-pink-600 font-semibold">💲13.000</span></p>
    
    <!-- Carrito info -->
    <div class="mt-2 text-gray-600 text-sm" id="carritoResumen1">
      Pedido: 0 Copas agregadas.
    </div>
  </div>

  <!-- Footer -->
  <div class="px-6 pb-6 flex flex-col gap-3">
    <button onclick="abrirCantidadModal('Copa Queso', 13000, 'carritoResumen1')" 
            class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 rounded-lg">
      ➕ Agregar a mi orden
    </button>

    <button onclick="toggleModal3(false, 'modalDetalles3')" 
            class="bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg">
      Continuar con mi orden
    </button>
  </div>
</div>
</div>

<!-- Carrito modal mejorado y centrado -->
<div id="carritoVisualizacion"
     class="fixed inset-0 bg-white p-5 rounded-2xl shadow-2xl max-w-sm w-full m-auto max-h-[90vh] overflow-y-auto hidden z-50 transition-all duration-300 ease-in-out">
  <h3 class="text-xl font-semibold text-center mb-4 text-pink-600">🛍️ Mi pedido</h3>

  <ul id="carritoItemsLista" class="space-y-2 text-sm text-gray-700">
    <!-- Productos se agregan aquí -->
  </ul>

  <button onclick="enviarPorWhatsapp()"
          class="mt-6 bg-teal-500 hover:bg-teal-600 text-white py-2 px-4 rounded-full w-full font-medium">
    📲 Ordenar por WhatsApp
  </button>

  <!-- Botón para agregar más helados y cerrar el modal -->
  <button onclick="toggleModalPedido(false, 'carritoVisualizacion')"
          class="mt-4 bg-pink-500 hover:bg-pink-600 text-white py-2 px-4 rounded-full w-full font-medium">
    🍦 Agregar más helados
  </button>
</div>

<!-- Agrega la clase animate-bounce -->
<button id="showCarrito" class="fixed bottom-6 left-6 bg-pink-600 text-white p-3 rounded-full shadow-lg hover:bg-pink-700 transition animate-bounce">
  🛒 <span class="font-bold">Ver mis helados agregados (<span id="carrito-count">0</span>)</span>
</button>

<!-- Alerta bonita tipo toast -->
<div id="alerta" class="hidden fixed bottom-20 left-6 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50">
  Antes de ordenar debes seleccionar por lo menos un helado.
</div>

<script>

function toggleModal(show) {
    const modal = document.getElementById('modalDetalles1');
    modal.style.display = show ? 'flex' : 'none';
  }

function toggleModalPedido(mostrar, idModal) {
  const modal = document.getElementById('carritoVisualizacion');
  if (modal) {
    modal.style.display = mostrar ? 'flex' : 'none';
  }
}

function toggleModal2(show) {
    const modal = document.getElementById('modalDetalles2');
    modal.style.display = show ? 'flex' : 'none';
  }

function toggleModal3(show) {
      const modal = document.getElementById('modalDetalles3');
      modal.style.display = show ? 'flex' : 'none';
    }

function abrirCantidadModal(nombre, precio, resumenId) {
  productoTemporal = { nombre, precio, resumenId };
  document.getElementById('cantidadSeleccionada').value = 1;
  document.getElementById('observaciones').value = ''; // Limpiar campo de observaciones
  document.getElementById('cantidadModal').classList.remove('hidden');
}

// Función para cerrar el modal de cantidad
function cerrarCantidadModal() {
  document.getElementById('cantidadModal').classList.add('hidden');
}

function confirmarCantidad() {
  const cantidad = parseInt(document.getElementById('cantidadSeleccionada').value);
  const observacion = document.getElementById('observaciones').value.trim(); // Nueva línea

  if (cantidad > 0) {
    const { nombre, precio, resumenId } = productoTemporal;
    const productoExistente = carrito.find(item => item.nombre === nombre);

    if (productoExistente) {
      productoExistente.cantidad += cantidad;
      // Si quieres guardar observaciones adicionales, podrías concatenarlas:
      if (observacion) {
        productoExistente.observaciones = (productoExistente.observaciones || '') + ' | ' + observacion;
      }
    } else {
      carrito.push({ nombre, precio, cantidad, observaciones: observacion }); // Añadir observaciones
    }

    actualizarCarrito();

    // Actualizar resumen de producto
    const resumen = document.getElementById(resumenId);
    if (resumen) {
      resumen.textContent = `Carrito: ${carrito.reduce((acc, item) => acc + item.cantidad, 0)} productos agregados.`;
    }

    cerrarCantidadModal();
    mostrarAlerta(`${cantidad} x ${nombre} agregados a tu pedido.`, 'bg-green-500');
  }
}

// Arreglo de productos en el carrito
let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

// Función para actualizar el carrito visualmente y en localStorage
function actualizarCarrito() {
  // Mostrar los productos en el carrito
  const listaCarrito = document.getElementById('carritoItemsLista');
  listaCarrito.innerHTML = ''; // Limpiar el carrito visual
  carrito.forEach(producto => {
    const li = document.createElement('li');
    li.innerHTML = `${producto.cantidad} x ${producto.nombre} - 💲${(producto.precio * producto.cantidad).toLocaleString()}`;
    if (producto.observaciones) {
      li.innerHTML += `<br><span class="text-sm text-gray-500">📝 ${producto.observaciones}</span>`;
    }
    listaCarrito.appendChild(li);
  });

  // Actualizamos el número de productos en el botón flotante
  const carritoCount = document.getElementById('carrito-count');
  carritoCount.textContent = carrito.reduce((acc, item) => acc + item.cantidad, 0);

  // Guardar el carrito actualizado en localStorage
  localStorage.setItem('carrito', JSON.stringify(carrito));
}


// Función para mostrar/ocultar el carrito
function toggleCarrito() {
  const carritoVisualizacion = document.getElementById('carritoVisualizacion');
  carritoVisualizacion.style.display = carritoVisualizacion.style.display === 'block' ? 'none' : 'block';
}
function limpiarCarrito() {
  carrito = [];
  localStorage.removeItem('carrito');
  actualizarCarrito();
}

function enviarPorWhatsapp() {
  if (carrito.length === 0) {
    mostrarAlerta("Primero agrega al menos una unidad a tu pedido.");
    return;
  }

  let mensaje = "Hola, quiero pedir:\n";
  let total = 0;

  carrito.forEach(p => {
    const subtotal = p.precio * p.cantidad;
    mensaje += `• ${p.cantidad} x ${p.nombre} - 💲${subtotal.toLocaleString()}`;
    if (p.observaciones) {
      mensaje += `\n   ↳ 📝 ${p.observaciones}`;
    }
    mensaje += `\n`;
    total += subtotal;
  });

  mensaje += `\nTotal: 💲${total.toLocaleString()}`;

  const url = `https://wa.me/573145855142?text=${encodeURIComponent(mensaje)}`;
  window.open(url, '_blank');

  // 🔁 Vaciar carrito con un pequeño retraso
  setTimeout(() => {
    limpiarCarrito();
  }, 500);
}


// Función para mostrar alertas tipo toast
function mostrarAlerta(mensaje, color = 'bg-red-500') {
  const alerta = document.getElementById('alerta');
  alerta.textContent = mensaje;
  alerta.className = `fixed bottom-20 left-6 text-white px-4 py-2 rounded-lg shadow-lg z-50 ${color}`;
  alerta.classList.remove('hidden');

  setTimeout(() => {
    alerta.classList.add('hidden');
  }, 3000); // se oculta después de 3 segundos
}

// Asignar la acción al botón flotante
document.getElementById('showCarrito').onclick = toggleCarrito;

// Al cargar la página, actualizamos el carrito
window.onload = actualizarCarrito;
</script>

<style>
  .promo-label {
    position: absolute;
    top: 10px;
    right: -20px;
    background: rgb(24, 182, 255);
    color: white;
    font-size: 12px;
    font-weight: bold;
    padding: 5px 10px;
    transform: rotate(25deg);
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
  }
</style>

<div class="w3-container w3-padding-32" id="about"></div>





<!-- Footer Mejorado -->
<footer class="w3-center w3-black w3-padding-32">
  <p>📞 Atención al Cliente: <strong>+57 301 8267113</strong></p>
  
  <p>🔒 Compras 100% seguras | 💳 Aceptamos pagos con tarjeta y transferencias</p>

  <!-- Métodos de pago con imágenes -->
  <div class="payment-methods">
    <img src="img/nequi.png" alt="Nequi" class="payment-logo">
    <img src="img/daviplata.png" alt="Daviplata" class="payment-logo">
    <img src="img/bancolombia.png" alt="Bancolombia" class="payment-logo">
  </div>

  <p>📦 Envíos a todo el país | 🚀 Garantía de satisfacción</p>

  <p>
    <a href="#" class="w3-hover-text-green">Términos y Condiciones</a> | 
    <a href="#" class="w3-hover-text-green">Política de Privacidad</a>
  </p>

  <p>&copy; 2025 <strong>TOP FLAAY</strong>. Todos los derechos reservados.</p>
</footer>

<!-- Estilos personalizados -->
<style>
  .payment-methods {
    margin: 10px 0;
  }

  .payment-logo {
    width: 80px; /* Ajusta el tamaño de los logos */
    height: 60px;
    margin: 0 10px;
    vertical-align: middle;
    border-radius: 20%;
  }

  @media (max-width: 600px) {
    .payment-logo {
      width: 60px; /* Ajuste responsivo para móviles */
    }
  }
</style>


</body>
</html>
